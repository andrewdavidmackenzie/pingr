name = "collectr"
main = "build/worker/shim.mjs"
compatibility_date = "2023-03-22"
compatibility_flags = ["durable_object_alarms"]

durable_objects.bindings = [
    { name = "DEVICES", class_name = "Device" }
]

kv_namespaces = [
    { binding = "DEVICE_STATUS", id = "aa1793c1a3d7497bb12ce3c5d2c3f3c7" }
]

[[migrations]]
tag = "v1"
new_classes = ["Device"]

[build]
command = "cargo install -q worker-build && worker-build --release"
